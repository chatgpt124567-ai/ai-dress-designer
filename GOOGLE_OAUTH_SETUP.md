# ุฏููู ุฅุนุฏุงุฏ Google OAuth - Google OAuth Setup Guide

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ูุดุฑุญ ุฎุทูุฉ ุจุฎุทูุฉ ููููุฉ ุชูุนูู ุชุณุฌูู ุงูุฏุฎูู ุจุฌูุฌู (Google OAuth) ูู ุชุทุจูู ูุตูู ูุงุณููู ุงูุดุงู ุงูุฐูู.

---

## ๐ ุงููุฑุญูุฉ 1: ุฅุนุฏุงุฏ Google Cloud Console

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ูุดุฑูุน Google Cloud

1. **ุงูุชุญู Google Cloud Console:**
   - ุงุฐูุจู ุฅูู: https://console.cloud.google.com/

2. **ุณุฌูู ุฏุฎููู:**
   - ุงุณุชุฎุฏูู ุญุณุงุจ Google ุงูุฎุงุต ุจู

3. **ุฃูุดุฆู ูุดุฑูุน ุฌุฏูุฏ:**
   - ุงุถุบุทู ุนูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ ูููุดุงุฑูุน ูู ุงูุฃุนูู (ุจุฌุงูุจ "Google Cloud")
   - ุงุถุบุทู **"New Project"** ุฃู **"ูุดุฑูุน ุฌุฏูุฏ"**
   - ุฃุฏุฎูู ุงููุนูููุงุช:
     - **Project name:** `AI Dress Designer` (ุฃู ุฃู ุงุณู ุชูุถูููู)
     - **Organization:** ุงุชุฑููู ููุง ูู (No organization)
   - ุงุถุบุทู **"Create"** ุฃู **"ุฅูุดุงุก"**
   - ุงูุชุธุฑู ุญุชู ูุชู ุฅูุดุงุก ุงููุดุฑูุน (ูุฏ ูุณุชุบุฑู ุจุถุน ุซูุงูู)

### ุงูุฎุทูุฉ 2: ุชูุนูู Google+ API (ุงุฎุชูุงุฑู)

**ููุงุญุธุฉ:** ูุฐู ุงูุฎุทูุฉ ูุฏ ูุง ุชููู ุถุฑูุฑูุฉ ูู ุงูุฅุตุฏุงุฑุงุช ุงูุญุฏูุซุฉ ูู Supabase.

1. **ุงูุชุญู APIs & Services:**
   - ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ (โฐ) โ **APIs & Services** โ **Library**

2. **ุงุจุญุซู ุนู Google+ API:**
   - ูู ูุฑุจุน ุงูุจุญุซุ ุงูุชุจู: `Google+ API`
   - ุงุถุบุทู ุนูู ุงููุชูุฌุฉ

3. **ูุนููู ุงูู API:**
   - ุงุถุบุทู **"Enable"** ุฃู **"ุชูุนูู"**

### ุงูุฎุทูุฉ 3: ุฅุนุฏุงุฏ OAuth Consent Screen

1. **ุงูุชุญู OAuth consent screen:**
   - ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ (โฐ) โ **APIs & Services** โ **OAuth consent screen**

2. **ุงุฎุชุงุฑู User Type:**
   - ุงุฎุชุงุฑู **"External"** (ููุงุฎุชุจุงุฑ ูุงูุงุณุชุฎุฏุงู ุงูุนุงู)
   - ุงุถุบุทู **"Create"** ุฃู **"ุฅูุดุงุก"**

3. **ุงููุฆู ูุนูููุงุช ุงูุชุทุจูู (App information):**
   - **App name:** `AI Dress Designer` ุฃู `ูุตูู ูุงุณููู ุงูุดุงู ุงูุฐูู`
   - **User support email:** ุจุฑูุฏู ุงูุฅููุชุฑููู
   - **App logo:** (ุงุฎุชูุงุฑู) ููููู ุฑูุน ุดุนุงุฑ ุงูุชุทุจูู

4. **ุงููุฆู ูุนูููุงุช ุงููุทูุฑ (Developer contact information):**
   - **Email addresses:** ุจุฑูุฏู ุงูุฅููุชุฑููู
   - ุงุถุบุทู **"Save and Continue"**

5. **Scopes (ุงูุตูุงุญูุงุช):**
   - ุงุถุบุทู **"Save and Continue"** ูุจุงุดุฑุฉ (ูุง ุญุงุฌุฉ ูุฅุถุงูุฉ scopes ุฅุถุงููุฉ)

6. **Test users (ูุณุชุฎุฏูู ุงูุงุฎุชุจุงุฑ):**
   - ุงุถุบุทู **"Add Users"**
   - ุฃุถููู ุจุฑูุฏู ุงูุฅููุชุฑููู (ูุฃู ุจุฑูุฏ ุขุฎุฑ ุชุฑูุฏูู ุงุฎุชุจุงุฑู)
   - ุงุถุบุทู **"Add"**
   - ุงุถุบุทู **"Save and Continue"**

7. **Summary (ุงูููุฎุต):**
   - ุฑุงุฌุนู ุงููุนูููุงุช
   - ุงุถุบุทู **"Back to Dashboard"**

### ุงูุฎุทูุฉ 4: ุฅูุดุงุก OAuth 2.0 Credentials

1. **ุงูุชุญู Credentials:**
   - ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ (โฐ) โ **APIs & Services** โ **Credentials**

2. **ุฃูุดุฆู Credentials:**
   - ุงุถุบุทู **"Create Credentials"** ูู ุงูุฃุนูู
   - ุงุฎุชุงุฑู **"OAuth client ID"**

3. **ุงุฎุชุงุฑู Application type:**
   - **Application type:** `Web application`
   - **Name:** `AI Dress Designer Web Client`

4. **ุฃุถููู Authorized JavaScript origins:**
   - ุงุถุบุทู **"Add URI"**
   - ุฃุถููู ุงูุฑูุงุจุท ุงูุชุงููุฉ (ูู ูุงุญุฏ ูู ุณุทุฑ ูููุตู):
     ```
     http://localhost:3000
     http://localhost:3001
     https://ugszpeinlqlxhejplqdh.supabase.co
     ```
   - ุฅุฐุง ูุงู ูุฏูู ูุทุงู ุฎุงุต (domain)ุ ุฃุถูููู ุฃูุถุงู

5. **ุฃุถููู Authorized redirect URIs:**
   - ุงุถุบุทู **"Add URI"**
   - ุฃุถููู ุงูุฑุงุจุท ุงูุชุงูู:
     ```
     https://ugszpeinlqlxhejplqdh.supabase.co/auth/v1/callback
     ```
   - **โ๏ธ ููู ุฌุฏุงู:** ูุฐุง ุงูุฑุงุจุท ูุฌุจ ุฃู ูููู ุฏูููุงู ุชูุงูุงู

6. **ุงุญูุธู:**
   - ุงุถุบุทู **"Create"**

7. **ุงุญูุธู Client ID ู Client Secret:**
   - ุณุชุธูุฑ ูุงูุฐุฉ ููุจุซูุฉ ุชุญุชูู ุนูู:
     - **Client ID:** (ูุซู: `123456789-abc...googleusercontent.com`)
     - **Client Secret:** (ูุซู: `GOCSPX-...`)
   - **ุงูุณุฎู ููุงููุง** ูุงุญูุธูููุง ูู ููุงู ุขูู (ุณุชุญุชุงุฌููููุง ูู ุงูุฎุทูุฉ ุงูุชุงููุฉ)
   - ููููู ุฏุงุฆูุงู ุงูุฑุฌูุน ุฅููููุง ูู ุตูุญุฉ Credentials

---

## ๐ ุงููุฑุญูุฉ 2: ุชูุนูู Google Provider ูู Supabase

### ุงูุฎุทูุฉ 1: ุงูุชุญู Supabase Dashboard

1. **ุงุฐูุจู ุฅูู:**
   - https://supabase.com/dashboard

2. **ุณุฌูู ุฏุฎููู**

3. **ุงุฎุชุงุฑู ุงููุดุฑูุน:**
   - `ugszpeinlqlxhejplqdh`

### ุงูุฎุทูุฉ 2: ูุนููู Google Provider

1. **ุงูุชุญู Authentication Settings:**
   - ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ โ **Authentication**
   - ุงุถุบุทู ุนูู **Providers**

2. **ุงุจุญุซู ุนู Google:**
   - ุณุชุฌุฏูู ูุงุฆูุฉ ุจุฌููุน Providers ุงููุชุงุญุฉ
   - ุงุจุญุซู ุนู **Google**
   - ุงุถุบุทู ุนููู

3. **ูุนููู Google Provider:**
   - ูุนููู ุงูุฎูุงุฑ: **"Enable Sign in with Google"**

4. **ุฃุฏุฎูู Client ID ู Client Secret:**
   - **Client ID:** ุงูุตูู ุงูู Client ID ูู Google Cloud Console
   - **Client Secret:** ุงูุตูู ุงูู Client Secret ูู Google Cloud Console

5. **ุงุญูุธู ุงูุชุบููุฑุงุช:**
   - ุงุถุบุทู **"Save"**

6. **ุงูุณุฎู Callback URL:**
   - ุณุชุฌุฏูู **Callback URL** ูู ููุณ ุงูุตูุญุฉ
   - ูุฌุจ ุฃู ูููู: `https://ugszpeinlqlxhejplqdh.supabase.co/auth/v1/callback`
   - ุชุฃูุฏู ูู ุฃูู ูุทุงุจู ููุฑุงุจุท ุงูุฐู ุฃุถูุชูู ูู Google Cloud Console

---

## โ ุงููุฑุญูุฉ 3: ุงุฎุชุจุงุฑ Google OAuth

### ุงูุฎุทูุฉ 1: ุดุบููู ุงูุชุทุจูู

```bash
npm run dev
```

### ุงูุฎุทูุฉ 2: ุฌุฑุจู ุชุณุฌูู ุงูุฏุฎูู ุจุฌูุฌู

1. **ุงูุชุญู ุงููุชุตูุญ:**
   - ุงุฐูุจู ุฅูู: `http://localhost:3000/auth/login`

2. **ุงุถุบุทู ุนูู ุฒุฑ "ุชุณุฌูู ุงูุฏุฎูู ุจุฌูุฌู":**
   - ูุฌุจ ุฃู ูุชู ุชูุฌููู ุฅูู ุตูุญุฉ Google
   - ุงุฎุชุงุฑู ุญุณุงุจ Google ุงูุฐู ุชุฑูุฏูู ุงุณุชุฎุฏุงูู
   - ูุงููู ุนูู ุงูุตูุงุญูุงุช ุงููุทููุจุฉ

3. **ุงูุชุญูู ูู ุงููุฌุงุญ:**
   - ูุฌุจ ุฃู ูุชู ุชูุฌููู ุชููุงุฆูุงู ุฅูู ุตูุญุฉ `/design`
   - ูุฌุจ ุฃู ุชูููู ูุณุฌูุฉ ุฏุฎูู
   - ููููู ุฑุคูุฉ ุฒุฑ "ุชุณุฌูู ุงูุฎุฑูุฌ" ูู Header

### ุงูุฎุทูุฉ 3: ุชุญููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

1. **ุงูุชุญู Supabase Dashboard:**
   - ุงุฐูุจู ุฅูู **Authentication** โ **Users**

2. **ุชุญููู ูู ุงููุณุชุฎุฏูุฉ ุงูุฌุฏูุฏุฉ:**
   - ูุฌุจ ุฃู ุชุดุงูุฏู ูุณุชุฎุฏูุฉ ุฌุฏูุฏุฉ ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูู Google
   - **Provider:** `google`

3. **ุชุญููู ูู ุฌุฏูู profiles:**
   - ุงุฐูุจู ุฅูู **Table Editor** โ **profiles**
   - ูุฌุจ ุฃู ูุชู ุฅูุดุงุก ููู ุดุฎุตู ุชููุงุฆูุงู ูููุณุชุฎุฏูุฉ ุงูุฌุฏูุฏุฉ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### โ ุฎุทุฃ: "redirect_uri_mismatch"

**ุงูุณุจุจ:** ุงูู Redirect URI ูู Google Cloud Console ุบูุฑ ูุทุงุจู ููู Callback URL ูู Supabase.

**ุงูุญู:**
1. ุชุญููู ูู ุฃู ุงูุฑุงุจุท ูู Google Cloud Console ูู:
   ```
   https://ugszpeinlqlxhejplqdh.supabase.co/auth/v1/callback
   ```
2. ุชุฃูุฏู ูู ุนุฏู ูุฌูุฏ ูุณุงูุงุช ุฃู ุฃุญุฑู ุฅุถุงููุฉ
3. ุงุญูุธู ุงูุชุบููุฑุงุช ูู Google Cloud Console
4. ุงูุชุธุฑู ุจุถุน ุฏูุงุฆู ุญุชู ุชูุชุดุฑ ุงูุชุบููุฑุงุช

### โ ุฎุทุฃ: "Access blocked: This app's request is invalid"

**ุงูุณุจุจ:** OAuth Consent Screen ุบูุฑ ููุชูู ุฃู ุจุฑูุฏู ุงูุฅููุชุฑููู ุบูุฑ ูุถุงู ูู Test User.

**ุงูุญู:**
1. ุงุฑุฌุนู ุฅูู Google Cloud Console โ OAuth consent screen
2. ุชุฃูุฏู ูู ุฅููุงู ุฌููุน ุงูุฎุทูุงุช
3. ุฃุถููู ุจุฑูุฏู ุงูุฅููุชุฑููู ูู **Test users**
4. ุงุญูุธู ุงูุชุบููุฑุงุช

### โ ุฎุทุฃ: "Invalid client ID or secret"

**ุงูุณุจุจ:** ุงูู Client ID ุฃู Client Secret ุบูุฑ ุตุญูุญ ูู Supabase.

**ุงูุญู:**
1. ุงุฑุฌุนู ุฅูู Google Cloud Console โ Credentials
2. ุงูุณุฎู ุงูู Client ID ู Client Secret ูุฑุฉ ุฃุฎุฑู
3. ุงูุตููููุง ูู Supabase โ Authentication โ Providers โ Google
4. ุงุญูุธู ุงูุชุบููุฑุงุช

### โ ูุง ูุญุฏุซ ุดูุก ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ Google

**ุงูุณุจุจ:** ุฎุทุฃ ูู ุงูููุฏ ุฃู Google Provider ุบูุฑ ููุนูู ูู Supabase.

**ุงูุญู:**
1. ุงูุชุญู Console ุงููุชุตูุญ (F12) ูุชุญููู ูู ุงูุฃุฎุทุงุก
2. ุชุฃูุฏู ูู ุชูุนูู Google Provider ูู Supabase
3. ุชุฃูุฏู ูู ุตุญุฉ Client ID ู Client Secret

---

## ๐ ููุงุญุธุงุช ูููุฉ

### ููุชุทููุฑ ุงููุญูู (localhost)
- โ ุชุฃูุฏู ูู ุฅุถุงูุฉ `http://localhost:3000` ู `http://localhost:3001` ูู Authorized JavaScript origins
- โ ุฃุถููู ุจุฑูุฏู ุงูุฅููุชุฑููู ูู Test User ูู OAuth Consent Screen
- โ๏ธ ูู ูุถุน Testingุ ููุท Test Users ูููููู ุชุณุฌูู ุงูุฏุฎูู

### ููุฅูุชุงุฌ (Production)
- ๐ ุบููุฑู OAuth Consent Screen ูู **Testing** ุฅูู **In Production**
- ๐ ุฃุถููู ูุทุงูู ุงููุนูู (domain) ูู Authorized JavaScript origins ู Redirect URIs
- ๐ง ูุฏ ุชุญุชุงุฌูู ููุฑุงุฌุนุฉ Google ูุชุทุจููู (Verification) ุฅุฐุง ููุชู ุชุทูุจูู ุตูุงุญูุงุช ุญุณุงุณุฉ

---

## โจ ุงูุฎูุงุตุฉ

โ **ุชู ุชูุนูู Google OAuth ุจูุฌุงุญ!**

ุงูุขู ูููู ูููุณุชุฎุฏูุงุช:
- ุชุณุฌูู ุงูุฏุฎูู ุจุญุณุงุจ Google
- ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ ุจุญุณุงุจ Google
- ุงููุตูู ุฅูู ุฌููุน ููุฒุงุช ุงูุชุทุจูู

---

**ุจุงูุชูููู! ๐**

