# ุฏููู ุฅุนุฏุงุฏ Google OAuth ููุฏูููู ุงููุฎุตุต
# Google OAuth Setup for Custom Domain

## ๐ฏ ุงููุดููุฉ

ุจุนุฏ ูุดุฑ ุงูุชุทุจูู ุนูู ุฏูููู ูุฎุตุต (`https://yasmin-alsham-ai.com`)ุ ุนูุฏ ูุญุงููุฉ ุชุณุฌูู ุงูุฏุฎูู ุนุจุฑ Googleุ ูุชู ุงูุชูุฌูู ุฅูู `localhost` ุจุฏูุงู ูู ุงูุฏูููู ุงูุฌุฏูุฏ.

### ุงูุณุจุจ:
Google OAuth ูุณุชุฎุฏู **Authorized JavaScript Origins** ู **Authorized Redirect URIs** ุงููุณุฌูุฉ ูู Google Cloud Console. ุญุงููุงูุ ููุท `localhost` ู Supabase URL ูุณุฌูุฉุ ูุฐูู Google ูุง ูุณูุญ ุจุงูุชูุฌูู ุฅูู ุงูุฏูููู ุงูุฌุฏูุฏ.

---

## โ ุงูุญู ุงููุงูู (3 ุฎุทูุงุช ุฑุฆูุณูุฉ)

---

## ๐ ุงูุฎุทูุฉ 1: ุชุญุฏูุซ Google Cloud Console

### 1.1 ุงูุชุญ Google Cloud Console

1. ุงุฐูุจ ุฅูู: https://console.cloud.google.com/
2. ุณุฌู ุงูุฏุฎูู ุจุญุณุงุจู
3. ุงุฎุชุฑ ุงููุดุฑูุน: **AI Dress Designer** (ุฃู ุงุณู ูุดุฑูุนู)

### 1.2 ุงูุชุญ ุตูุญุฉ Credentials

1. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ (โฐ) โ **APIs & Services** โ **Credentials**
2. ุงุจุญุซ ุนู OAuth 2.0 Client ID ุงูุฎุงุต ุจู (ูุซู: `AI Dress Designer Web Client`)
3. ุงุถุบุท ุนูู ุงุณู ุงูู Client ID ูุชุนุฏููู

### 1.3 ุฃุถู ุงูุฏูููู ุงูุฌุฏูุฏ ุฅูู Authorized JavaScript Origins

ูู ูุณู **Authorized JavaScript origins**ุ ุฃุถู ุงูุฑูุงุจุท ุงูุชุงููุฉ:

```
http://localhost:3000
http://localhost:3001
https://ugszpeinlqlxhejplqdh.supabase.co
https://yasmin-alsham-ai.com
https://www.yasmin-alsham-ai.com
```

**โ๏ธ ููุงุญุธุงุช ูููุฉ:**
- ุฃุถู ุงููุณุฎุฉ ูุน `www` ูุงููุณุฎุฉ ุจุฏูููุง
- ูุง ุชุถุน `/` ูู ุงูููุงูุฉ
- ุงุณุชุฎุฏู `https://` ูููุณ `http://` ููุฏูููู ุงููุฎุตุต

### 1.4 ุชุฃูุฏ ูู Authorized Redirect URIs

ูุฌุจ ุฃู ูุจูู ููุง ูู (ูุง ุชุบููุฑ):

```
https://ugszpeinlqlxhejplqdh.supabase.co/auth/v1/callback
```

**โ๏ธ ููู:** ูุง ุชุถู redirect URI ููุฏูููู ุงููุฎุตุต! Supabase ูุชููู ูุฐุง ุงูุฃูุฑ.

### 1.5 ุงุญูุธ ุงูุชุบููุฑุงุช

1. ุงุถุบุท **Save** ูู ุงูุฃุณูู
2. ุงูุชุธุฑ 5-10 ุฏูุงุฆู ุญุชู ุชูุชุดุฑ ุงูุชุบููุฑุงุช ูู ุฎูุงุฏู Google

---

## ๐ ุงูุฎุทูุฉ 2: ุชุญุฏูุซ Supabase Authentication Settings

### 2.1 ุงูุชุญ Supabase Dashboard

1. ุงุฐูุจ ุฅูู: https://supabase.com/dashboard
2. ุงุฎุชุฑ ุงููุดุฑูุน: `ugszpeinlqlxhejplqdh`

### 2.2 ุฃุถู ุงูุฏูููู ุฅูู Site URL

1. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ โ **Authentication** โ **URL Configuration**
2. ูู ุญูู **Site URL**ุ ุบููุฑ ุงููููุฉ ุฅูู:
   ```
   https://yasmin-alsham-ai.com
   ```

### 2.3 ุฃุถู ุงูุฏูููู ุฅูู Redirect URLs

1. ูู ููุณ ุงูุตูุญุฉุ ุงุจุญุซ ุนู **Redirect URLs**
2. ุฃุถู ุงูุฑูุงุจุท ุงูุชุงููุฉ (ูู ูุงุญุฏ ูู ุณุทุฑ ูููุตู):
   ```
   http://localhost:3000/auth/callback
   http://localhost:3001/auth/callback
   https://yasmin-alsham-ai.com/auth/callback
   https://www.yasmin-alsham-ai.com/auth/callback
   ```

**โ๏ธ ููุงุญุธุฉ:** ูุฌุจ ุฃู ุชูุชูู ุจู `/auth/callback`

### 2.4 ุงุญูุธ ุงูุชุบููุฑุงุช

ุงุถุบุท **Save** ูู ุงูุฃุณูู

---

## ๐ ุงูุฎุทูุฉ 3: ุชุญุฏูุซ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู Vercel (ุงุฎุชูุงุฑู)

### 3.1 ุงูุชุญ Vercel Dashboard

1. ุงุฐูุจ ุฅูู: https://vercel.com/dashboard
2. ุงุฎุชุฑ ุงููุดุฑูุน: **ai-dress-designer**

### 3.2 ุชุญูู ูู Environment Variables

1. ุงุฐูุจ ุฅูู **Settings** โ **Environment Variables**
2. ุชุฃูุฏ ูู ูุฌูุฏ ุงููุชุบูุฑุงุช ุงูุชุงููุฉ:
   ```
   NEXT_PUBLIC_SUPABASE_URL=https://ugszpeinlqlxhejplqdh.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
   GOOGLE_GEMINI_API_KEY=AIzaSy...
   ```

**โ๏ธ ููุงุญุธุฉ:** ูุง ุญุงุฌุฉ ูุฅุถุงูุฉ ูุชุบูุฑุงุช ุฌุฏูุฏุฉุ ููุท ุชุฃูุฏ ูู ูุฌูุฏ ูุฐู ุงููุชุบูุฑุงุช.

### 3.3 ุฅุนุงุฏุฉ ุงููุดุฑ (ุฅุฐุง ูุฒู ุงูุฃูุฑ)

ุฅุฐุง ููุช ุจุชุบููุฑ ุฃู ูุชุบูุฑ:
1. ุงุฐูุจ ุฅูู **Deployments**
2. ุงุถุบุท ุนูู **Redeploy** ุนูู ุขุฎุฑ deployment

---

## ๐งช ุงูุฎุทูุฉ 4: ุงูุงุฎุชุจุงุฑ

### 4.1 ุงุฎุชุจุงุฑ ุนูู ุงูุฏูููู ุงููุฎุตุต

1. ุงูุชุญ ุงููุชุตูุญ ูู ูุถุน ุงูุชุตูุญ ุงูุฎุงุต (Incognito/Private)
2. ุงุฐูุจ ุฅูู: https://yasmin-alsham-ai.com/auth/login
3. ุงุถุบุท ุนูู ุฒุฑ **"ุชุณุฌูู ุงูุฏุฎูู ุจุฌูุฌู"**
4. ุงุฎุชุฑ ุญุณุงุจ Google
5. ูุฌุจ ุฃู ูุชู ุชูุฌููู ุฅูู Google ูููุตุงุฏูุฉ
6. ุจุนุฏ ุงููุตุงุฏูุฉุ ูุฌุจ ุฃู ูุชู ุชูุฌููู ุฅูู: https://yasmin-alsham-ai.com/design

### 4.2 ุงูุชุญูู ูู ูุฌุงุญ ุชุณุฌูู ุงูุฏุฎูู

- โ ูุฌุจ ุฃู ุชุฑู ุงุณูู ูู Header
- โ ูุฌุจ ุฃู ุชุฑู ุฒุฑ "ุชุณุฌูู ุงูุฎุฑูุฌ"
- โ ูุฌุจ ุฃู ุชุชููู ูู ุงููุตูู ุฅูู `/profile`

### 4.3 ุงุฎุชุจุงุฑ ุนูู localhost (ููุชุฃูุฏ)

1. ุดุบูู ุงูุณูุฑูุฑ ุงููุญูู: `npm run dev`
2. ุงูุชุญ: http://localhost:3000/auth/login
3. ุฌุฑุจ ุชุณุฌูู ุงูุฏุฎูู ุจุฌูุฌู
4. ูุฌุจ ุฃู ูุนูู ุฃูุถุงู ุจุฏูู ูุดุงูู

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### โ ุฎุทุฃ: "redirect_uri_mismatch"

**ุงูุณุจุจ:** ุงูุฏูููู ุบูุฑ ูุณุฌู ูู Google Cloud Console

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฅุถุงูุฉ `https://yasmin-alsham-ai.com` ูู **Authorized JavaScript origins**
2. ุงูุชุธุฑ 5-10 ุฏูุงุฆู
3. ุงูุณุญ ุงููุงุด (Ctrl+Shift+Delete)
4. ุฌุฑุจ ูุฑุฉ ุฃุฎุฑู

### โ ูุง ูุฒุงู ููุฌู ุฅูู localhost

**ุงูุณุจุจ:** ุงููุงุด ูู ุงููุชุตูุญ ุฃู ูู ุชูุชุดุฑ ุงูุชุบููุฑุงุช ุจุนุฏ

**ุงูุญู:**
1. ุงูุณุญ ุงููุงุด ูุงูููููุฒ
2. ุงุณุชุฎุฏู ูุถุน ุงูุชุตูุญ ุงูุฎุงุต
3. ุงูุชุธุฑ 10 ุฏูุงุฆู ุฅุถุงููุฉ
4. ุฌุฑุจ ูู ูุชุตูุญ ุขุฎุฑ

### โ ุฎุทุฃ: "Access blocked: This app's request is invalid"

**ุงูุณุจุจ:** OAuth Consent Screen ูู ูุถุน Testing ูุจุฑูุฏู ุบูุฑ ูุถุงู ูู Test User

**ุงูุญู:**
1. ุงุฐูุจ ุฅูู Google Cloud Console โ OAuth consent screen
2. ุฃุถู ุจุฑูุฏู ุงูุฅููุชุฑููู ูู **Test users**
3. ุฃู ุบููุฑ Publishing status ุฅูู **In Production**

---

## ๐ Checklist ุงูููุงุฆู

ูุจู ุงูุงุฎุชุจุงุฑุ ุชุฃูุฏ ูู:

- [ ] โ ุฃุถูุช `https://yasmin-alsham-ai.com` ูู Google Cloud Console โ Authorized JavaScript origins
- [ ] โ ุฃุถูุช `https://www.yasmin-alsham-ai.com` ูู Google Cloud Console โ Authorized JavaScript origins
- [ ] โ ุญูุธุช ุงูุชุบููุฑุงุช ูู Google Cloud Console
- [ ] โ ุบููุฑุช Site URL ูู Supabase ุฅูู `https://yasmin-alsham-ai.com`
- [ ] โ ุฃุถูุช ุงูุฏูููู ูู Supabase โ Redirect URLs
- [ ] โ ุญูุธุช ุงูุชุบููุฑุงุช ูู Supabase
- [ ] โ ุงูุชุธุฑุช 5-10 ุฏูุงุฆู
- [ ] โ ูุณุญุช ุงููุงุด ูุงูููููุฒ
- [ ] โ ุฌุฑุจุช ูู ูุถุน ุงูุชุตูุญ ุงูุฎุงุต

---

## ๐ ุงููุชูุฌุฉ ุงููุชููุนุฉ

ุจุนุฏ ุฅููุงู ุฌููุน ุงูุฎุทูุงุช:

โ ุชุณุฌูู ุงูุฏุฎูู ุจุฌูุฌู ูุนูู ุนูู `https://yasmin-alsham-ai.com`
โ ุชุณุฌูู ุงูุฏุฎูู ุจุฌูุฌู ูุนูู ุนูู `http://localhost:3000`
โ ุงูุชูุฌูู ูุชู ุฅูู ุงูุฏูููู ุงูุตุญูุญ (ูููุณ localhost)
โ ุงููุณุชุฎุฏููู ูููููู ุชุณุฌูู ุงูุฏุฎูู ูู ุฃู ููุงู

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 2025-01-21
**ุขุฎุฑ ุชุญุฏูุซ:** 2025-01-21

